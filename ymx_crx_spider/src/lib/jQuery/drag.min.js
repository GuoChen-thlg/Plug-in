!function(){function b(t,s){this.t=t,this.c=t.find(s.move).first(),this.cs=t.find(s.closed).first(),this.m=!1,this.s=!1,this.hide=5,this.size_bg=s.size,this.init()}b.prototype={init:function(){var t=this;t.box_sizing=t.t.css("box-sizing"),t.top=t.t.offset().top-$(window).scrollTop(),t.left=t.t.offset().left-$(window).scrollLeft(),t.height=t.t.outerHeight(),t.width=t.t.outerWidth(),t.w_width=$(window).width(),t.w_height=$(window).height(),"border-box"!=t.box_sizing?(t.c_width=t.width-t.t.width(),t.c_height=t.height-t.t.height()):(t.c_width=0,t.c_height=0),t.t.css({"max-height":"100%","max-width":"100%",position:"fixed"}),$(window).resize((function(){t.w_width=$(window).width(),t.w_height=$(window).height(),"border-box"!=t.box_sizing?(t.c_width=t.width-t.t.width(),t.c_height=t.height-t.t.height()):(t.c_width=0,t.c_height=0),t.t.width()>t.w_width-t.c_width&&t.t.width(t.w_width-t.c_width),t.t.height()>t.w_height-t.c_height&&t.t.height(t.w_height-t.c_height),t.t.css({"max-height":"100%","max-width":"100%"}),t.height=t.t.outerHeight(),t.width=t.t.outerWidth(),t.width+t.left>=t.w_width&&(t.left=t.w_width-t.width,parseInt(t.t.css("left"))<0?t.t.css("left",-t.width+t.hide):parseInt(t.t.css("left"))>t.w_width-t.width?t.t.css("left",t.w_width-t.hide):t.t.css("left",t.left))})),t.move(),t.size()},move:function(){var t=this;t.cs.on("mousedown",(function(){return t.top=0,t.left=0,t.t.animate({top:0,left:0},300,(function(){t.top_animate()})),!1})),t.c.on("mousedown",(function(e){return t.m=!0,t.x=e.pageX,t.y=e.pageY,t.height=t.t.outerHeight(),t.width=t.t.outerWidth(),$(document).on("mousemove",(function(e){return t.left2=t.left+e.pageX-t.x,t.top2=t.top+e.pageY-t.y,t.left2<=0?t.left2=0:t.left2>=t.w_width-t.width&&(t.left2=t.w_width-t.width),t.top2<=0?t.top2=0:t.top2>=t.w_height-t.height&&(t.top2=t.w_height-t.height),t.t.css({top:t.top2,left:t.left2}),!1})),$(document).on("mouseup",(function(e){t.top=t.t.offset().top-$(window).scrollTop(),t.left=t.t.offset().left-$(window).scrollLeft(),$(document).off("mousemove"),$(document).off("mouseup"),t.m=!1})),!1}))},size:function(){var t=this;t.t.append('<span class="bg_change_size">â—¢</span>'),t.sz=t.t.find(".bg_change_size").first(),t.sz.css({position:"absolute",right:0,bottom:0,display:"block",width:t.size_bg+"px",height:t.size_bg+"px",cursor:"nw-resize"}),t.sz.on("mousedown",(function(e){return t.s=!0,t.old_width=t.t.width(),t.old_height=t.t.height(),t.old_size_x=e.pageX,t.old_size_y=e.pageY,$(document).on("mousemove",(function(e){return t.new_width=e.pageX-t.old_size_x+t.old_width,t.new_height=e.pageY-t.old_size_y+t.old_height,t.t.width(t.new_width),t.t.height(t.new_height),t.t.outerHeight()+t.top>=t.w_height&&t.t.height(t.w_height-t.top-t.c_height),t.t.outerWidth()+t.left>=t.w_width&&t.t.width(t.w_width-t.left-t.c_width),!1})),$(document).on("mouseup",(function(){t.height=t.t.outerHeight(),t.width=t.t.outerWidth(),t.s=!1,$(document).off("mousemove"),$(document).off("mouseup")})),!1}))},leave:function(xx,yy){var t=this;return!(xx>=t.t.offset().left&&xx<=t.t.offset().left+t.width&&yy>=t.t.offset().top&&yy<=t.t.offset().top+t.height)}};var y={move:".title",closed:".close",size:0};$.fn.bg_move=function(bg){$.extend(y,bg),$(this).each((function(){new b($(this),y)}))}}(jQuery);